=form_for @participant, :html => {:class => 'participant_demographic'} do |f|
  -if @participant.adult_proxy?
    = render :partial => 'participant_adult_proxy', :locals => {:f => f}
  -elsif @participant.child_proxy?
    = render :partial => 'participant_child_proxy', :locals => {:f => f}
  -else
    .row-fluid
      %h4="Participant Information:"
    .row-fluid
      .span4
        .control-group
          =f.label :first_name, "First Name"
          .controls
            =f.text_field  :first_name, :class => "required"
      .span4
        .control-group
          =f.label :midlle_name, "Middle Name"
          .controls
            =f.text_field  :middle_name
      .span4
        .control-group
          =f.label :last_name, "Last Name"
          .controls
            =f.text_field  :last_name, :class => "required"
    .row-fluid
      %h4="Participant Address:"
    .row-fluid
      .span4
        .control-group
          =f.label :address_line1, "Address Line1"
          .controls
            =f.text_field  :address_line1
      .span4
        .control-group
          =f.label :address_line2, "Address Line2"
          .controls
            =f.text_field  :address_line2
    .row-fluid
      .span4
        .control-group
          =f.label :city
          .controls
            =f.text_field  :city
      .span4
        .control-group
          =f.label :state
          .controls
            = f.select :state, us_states, { prompt: 'Select State'}
      .span4
        .control-group
          =f.label :zip
          .controls
            =f.text_field  :zip
    .row-fluid
      .span4
        .control-group
          =f.label :email, "Email Address"
          .controls
            =f.text_field  :email
      .span4
        .control-group
          =f.label :primary_phone, "Primary Phone Number"
          .controls
            =f.text_field  :primary_phone
      .span4
        .control-group
          =f.label :secondary_phone, "Secondary Phone Number"
          .controls
            =f.text_field  :secondary_phone
  -if current_user.active_participants.size > 1
    .relationship
      .row-fluid
        %h4="Relationships:"
      -current_user.other_participants(@participant).each_with_index do |destination_participant, index|
        = render :partial =>  "participant_relationship", :locals => {:f => f, :index => index,
          :destination_participant => destination_participant }
  .row-fluid
    .btn-group
      =f.button "Next",:class=>"btn btn-primary"